# TodoMVC-Tests
Проект с автоматическими тестами для веб-приложения [TodoMVC](http://todomvc.com/examples/react/).

Тесты реализованы с использованием библиотеки [Selenium](https://selenium-python.readthedocs.io/index.html) для
тестирования веб-приложений, а также c тестовым фреймвороком [pytest](https://docs.pytest.org/en/latest/contents.html).

## Структура проекта

* **docs** - директория со спецификацией и тест-планом;
* **tests** - директория с автоматизированными тестами;
* **webdrivers** - директория с веб-драйверами для браузеров. Автоматически создается во время подготовки;
* **venv** - директория с исполняемыми файлами и модулями для работы в виртуальном окружении.
* requirements.txt - файл с необходимыми модулями для работы виртуального окружения;
* setup_tests.py - сценарий для автоматической подготовки проекта к запуску тестов.

## Установка
1. Если вы хотите загрузить проект себе средствами Git,
то откройте терминал, переместитесь в директорию, куда вы хотите
загрузить проект, а затем просто клонируйте репозиторий, введя следующую команду:

    `git clone https://github.com/SchizmOne/TodoMVC-Tests`
    
    Альтернативно, вы можете просто нажать на кнопку **Clone or download**" и
    загрузить ZIP-архив. После чего, внутри терминала, переместитесь в директорию с проектом.
    
2. Убедитесь, что у вас установлен **Python 3**, который вы можете загрузить [здесь](https://www.python.org/downloads/).

3. Запустите сценарий **setup_tests.py**, который подготовит окружение к запуску
тестов, введя следующую команду:

   Windows:
   
   `python setup_tests.py`
   
   Linux:
   
   `python3 setup_tests.py` 
   
4. Если на 3-м шаге что-то пошло не так, то выполните инструкции в данном шаге.
   Если нет, то пропустите его и сразу идите к 5-му.
   
   Инструкции:
   * Создайте в проекте директорию **webdrivers**;
   * Создайте виртуальное окружение для запуска и загрузите все необходимые модули:
   
       Windows:
       * Откройте терминал;
       * Введите команды:  
       `python -m venv venv`  
       `venv\Scripts\pip install -r requirements.txt`

       Linux:
       * Откройте терминал;
       * Введите команды:  
       `python3 -m venv venv`  
       `venv/bin/pip3 install -r requirements.txt`

5. Загрузите веб-драйвер для вашего браузера, чтобы в дальнейшем тесты могли
бы его автоматически запускать. Драйверы можно загрузить [здесь](https://selenium-python.readthedocs.io/installation.html#drivers).

   Обратите внимание на то, что вам нужно загрузить драйвер для вашего
   конкретного браузера. Данные тесты реализованы для **Google Chrome** и
   **Mozilla Firefox**, поэтому загружайте драйвер для кого-то из них и
   поместите исполняемый файл в созданную директорию **webdrivers**. Кроме
   того, проверьте текущую версию вашего браузера, потому что **версия
   драйвера должна совпадать с версией браузера**.
   
   Если же у вас нет такого браузера, то сначала установите его, а уже
   потом загрузите сам драйвер.

6. Последний шаг - отредактируйте переменные окружения (**PATH**), куда
вам нужно будет добавить путь к директории с веб-драйвером.

   Windows:
   
   * Откройте терминал от имени Администратора;
   * Введите команду:  
   `setx path "%path%;ПУТЬ\К\ВАШЕМУ\ПРОЕКТУ\webdrivers"`   
   * Перезапустите терминал.
   * Проверьте, что PATH был обновлен, введя:  
   `echo %PATH%`
   
   Linux:
   
   * Откройте терминал;
   * Добавьте инструкцию к **~/.profile**:  
   `export PATH="/путь/к/вашему/проекту/webdrivers:$PATH"`   
   * Обновите PATH на текущюю сессию:  
   `source ~/.profile `
   * Проверьте, что PATH был обновлен, введя:  
   `echo $PATH`

# Запуск тестов

Когда все подготовления завершены, вы можете запустить тесты. Для этого вам
нужно будет активировать виртуальное окружение и в нем запустить тестовый
фреймворк **pytest**.

Убедитесь, что вы открыли терминал и находитесь в директории с проектом.
После чего введите следующие инструкции:


Windows:

`venv\Scripts\activate # перейти в виртуальное окружение`  
`pytest -v tests/test_[ваш_браузер] # запустить тесты для браузера`

Linux:

`source venv/bin/activate # перейти в виртуальное окружение`  
`pytest -v tests/test_[ваш_браузер] # запустить тесты для браузера`